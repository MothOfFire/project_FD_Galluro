{"ast":null,"code":"/**\r\n * *文本框根据输入内容自适应高度\r\n * @param {HTMLElement} 输入框元素\r\n * @param {Number} 设置光标与输入框保持的距离(默认0)\r\n * @param {Number} 设置最大高度(可选)\r\n*/\n\nexport default function (elem, extra, maxHeight) {\n  extra = extra || 0;\n  var isFirefox = !!document.getBoxObjectFor || 'mozInnerScreenX' in window,\n    isOpera = !!window.opera && !!window.opera.toString().indexOf('Opera'),\n    addEvent = function (type, callback) {\n      elem.addEventListener ? elem.addEventListener(type, callback, false) : elem.attachEvent('on' + type, callback);\n    },\n    getStyle = elem.currentStyle ? function (name) {\n      var val = elem.currentStyle[name];\n      if (name === 'height' && val.search(/px/i) !== 1) {\n        var rect = elem.getBoundingClientRect();\n        return rect.bottom - rect.top - parseFloat(getStyle('paddingTop')) - parseFloat(getStyle('paddingBottom')) + 'px';\n      }\n      return val;\n    } : function (name) {\n      return getComputedStyle(elem, null)[name];\n    },\n    minHeight = parseFloat(getStyle('height'));\n  elem.style.resize = 'none';\n  var change = function () {\n    var scrollTop,\n      height,\n      padding = 0,\n      style = elem.style;\n    if (elem._length === elem.value.length) return;\n    elem._length = elem.value.length;\n    if (!isFirefox && !isOpera) {\n      padding = parseInt(getStyle('paddingTop')) + parseInt(getStyle('paddingBottom'));\n    }\n    scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n    elem.style.height = minHeight + 'px';\n    if (elem.scrollHeight > minHeight) {\n      if (maxHeight && elem.scrollHeight > maxHeight) {\n        height = maxHeight - padding;\n        style.overflowY = 'auto';\n      } else {\n        height = elem.scrollHeight - padding;\n        style.overflowY = 'hidden';\n      }\n      style.height = height + extra + 'px';\n      scrollTop += parseInt(style.height) - elem.currHeight;\n      document.body.scrollTop = scrollTop;\n      document.documentElement.scrollTop = scrollTop;\n      elem.currHeight = parseInt(style.height);\n    }\n  };\n  addEvent('propertychange', change);\n  addEvent('input', change);\n  addEvent('focus', change);\n  change();\n}\n;","map":{"version":3,"names":["elem","extra","maxHeight","isFirefox","document","getBoxObjectFor","window","isOpera","opera","toString","indexOf","addEvent","type","callback","addEventListener","attachEvent","getStyle","currentStyle","name","val","search","rect","getBoundingClientRect","bottom","top","parseFloat","getComputedStyle","minHeight","style","resize","change","scrollTop","height","padding","_length","value","length","parseInt","body","documentElement","scrollHeight","overflowY","currHeight"],"sources":["E:/Sources/Code/SpringBoot_TeaPlantation/teaweb/src/assets/lib/Textarea.js"],"sourcesContent":["/**\r\n * *文本框根据输入内容自适应高度\r\n * @param {HTMLElement} 输入框元素\r\n * @param {Number} 设置光标与输入框保持的距离(默认0)\r\n * @param {Number} 设置最大高度(可选)\r\n*/\r\n\r\nexport default function (elem, extra, maxHeight) {\r\n    extra = extra || 0;\r\n    var isFirefox = !!document.getBoxObjectFor || 'mozInnerScreenX' in window,\r\n        isOpera = !!window.opera && !!window.opera.toString().indexOf('Opera'),\r\n        addEvent = function (type, callback) {\r\n            elem.addEventListener ?\r\n                elem.addEventListener(type, callback, false) :\r\n                elem.attachEvent('on' + type, callback);\r\n        },\r\n        getStyle = elem.currentStyle ? function (name) {\r\n            var val = elem.currentStyle[name];\r\n\r\n            if (name === 'height' && val.search(/px/i) !== 1) {\r\n                var rect = elem.getBoundingClientRect();\r\n                return rect.bottom - rect.top -\r\n                    parseFloat(getStyle('paddingTop')) -\r\n                    parseFloat(getStyle('paddingBottom')) + 'px';\r\n            }\r\n            return val;\r\n        } : function (name) {\r\n            return getComputedStyle(elem, null)[name];\r\n        },\r\n        minHeight = parseFloat(getStyle('height'));\r\n\r\n    elem.style.resize = 'none';\r\n\r\n    var change = function () {\r\n        var scrollTop, height,\r\n            padding = 0,\r\n            style = elem.style;\r\n        if (elem._length === elem.value.length) return;\r\n        elem._length = elem.value.length;\r\n\r\n        if (!isFirefox && !isOpera) {\r\n            padding = parseInt(getStyle('paddingTop')) + parseInt(getStyle('paddingBottom'));\r\n        }\r\n        scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n        elem.style.height = minHeight + 'px';\r\n        if (elem.scrollHeight > minHeight) {\r\n            if (maxHeight && elem.scrollHeight > maxHeight) {\r\n                height = maxHeight - padding;\r\n                style.overflowY = 'auto';\r\n            } else {\r\n                height = elem.scrollHeight - padding;\r\n                style.overflowY = 'hidden';\r\n            }\r\n            style.height = height + extra + 'px';\r\n            scrollTop += parseInt(style.height) - elem.currHeight;\r\n            document.body.scrollTop = scrollTop;\r\n            document.documentElement.scrollTop = scrollTop;\r\n            elem.currHeight = parseInt(style.height);\r\n        }\r\n    };\r\n    addEvent('propertychange', change);\r\n    addEvent('input', change);\r\n    addEvent('focus', change);\r\n    change();\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}