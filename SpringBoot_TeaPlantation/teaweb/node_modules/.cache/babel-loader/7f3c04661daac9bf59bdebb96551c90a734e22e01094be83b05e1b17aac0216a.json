{"ast":null,"code":"export default {\n  name: \"parkadeMain\",\n  data() {\n    return {\n      user: JSON.parse(sessionStorage.getItem(\"CurUser\")),\n      cid: '',\n      carnumber: '',\n      iscar: 'false',\n      carForm: {\n        cid: '',\n        iscar: 'false',\n        carnumber: ''\n      },\n      rules: {\n        carnumber: [{\n          required: true,\n          message: '请输入正确的车牌号',\n          trigger: 'blur'\n        }, {\n          min: 7,\n          max: 7,\n          message: '长度7个字符',\n          trigger: 'blur'\n        }, {\n          pattern: /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/,\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    resetForm() {\n      this.carForm.cid = '';\n      this.carForm.iscar = 'false';\n      this.carForm.carnumber = '';\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","JSON","parse","sessionStorage","getItem","cid","carnumber","iscar","carForm","rules","required","message","trigger","min","max","pattern","methods","resetForm"],"sources":["src/components/visitor/parkadeMain.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"margin-bottom: 5px\">\r\n      <el-input v-model=\"cid\"\r\n                placeholder=\"请输入车位编号\"\r\n                suffix-icon=\"el-icon-search\"\r\n                style=\"width: 200px\"\r\n                @keyup.enter.native=\"loadPost\"></el-input>\r\n      <el-select v-model=\"iscar\"\r\n                 filterable placeholder=\"是否空车\"\r\n                 style=\"margin-left: 5px\">\r\n        <el-option\r\n            v-for=\"item in iscars\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n        </el-option>\r\n      </el-select>\r\n      <el-button type=\"primary\"\r\n                 style=\"margin-left: 5px\"\r\n                 @click=\"loadPost\">查询</el-button>\r\n      <el-button type=\"success\"\r\n                 @click=\"resetParam\">重置</el-button>\r\n    </div>\r\n    <el-table :data=\"tableData\"\r\n              :header-cell-style=\"{backgroundColor:'rgba(156,180,184,0.5)'}\"\r\n              :border=\"true\">\r\n      <el-table-column prop=\"cid\" label=\"车位Id\" width=\"80\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"vid\" label=\"车主id\" width=\"120\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"carnumber\" label=\"车牌号\" width=\"160\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"iscar\" label=\"是否空车\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag\r\n              :type=\"scope.row.iscar === 'false' ? 'primary' : 'success'\"\r\n              disable-transitions>{{scope.row.iscar === 'false' ? '空车' : '有车'}}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"ptime\" label=\"停车时长\" width=\"80\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"operate\" label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\"\r\n                     type=\"success\"\r\n                     @click=\"updateCar(scope.row)\">登记</el-button>\r\n          <el-popconfirm title=\"确定删除吗？\"\r\n                         style=\"margin-left: 5px\"\r\n                         @confirm=\"updateCar(scope.row)\">\r\n            <el-button slot=\"reference\"\r\n                       size=\"small\"\r\n                       type=\"danger\">离开</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--分页组件-->\r\n    <el-pagination\r\n        style=\"margin-top: 15px\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"pageNum\"\r\n        :page-sizes=\"[ 5, 10, 15,20]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n    </el-pagination>\r\n    <!--对话框 centerDialogVisible用来控制对话框是否出现（true表示出现）-->\r\n    <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"centerDialogVisible\"\r\n        width=\"30%\"\r\n        center\r\n        :before-close=\"handleClose\">\r\n      <el-form ref=\"form\" :model=\"visitorForm\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item prop=\"vname\" label=\"游客姓名\">\r\n          <el-input v-model=\"visitorForm.vname\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"vsex\" label=\"性别\">\r\n          <el-radio-group v-model=\"visitorForm.vsex\">\r\n            <el-radio label=\"1\">男</el-radio>\r\n            <el-radio label=\"0\">女</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item prop=\"vage\" label=\"年龄\">\r\n          <el-input v-model=\"visitorForm.vage\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"vphone\" label=\"联系方式\">\r\n          <el-input v-model=\"visitorForm.vphone\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"cid\" label=\"车位号\">\r\n          <el-input v-model=\"visitorForm.cid\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n  </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"parkadeMain\",\r\n  data(){\r\n    return{\r\n      user : JSON.parse(sessionStorage.getItem(\"CurUser\")),\r\n      cid:'',\r\n      carnumber:'',\r\n      iscar:'false',\r\n      carForm:{\r\n        cid:'',\r\n        iscar:'false',\r\n        carnumber:''\r\n      },\r\n      rules: {\r\n        carnumber: [\r\n          { required: true, message: '请输入正确的车牌号', trigger: 'blur' },\r\n          { min: 7, max: 7, message: '长度7个字符', trigger: 'blur' },\r\n          {pattern: /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/,\r\n            trigger: 'blur'},\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    resetForm(){\r\n      this.carForm.cid = '';\r\n      this.carForm.iscar = 'false';\r\n      this.carForm.carnumber = '';\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAwGA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,cAAA,CAAAC,OAAA;MACAC,GAAA;MACAC,SAAA;MACAC,KAAA;MACAC,OAAA;QACAH,GAAA;QACAE,KAAA;QACAD,SAAA;MACA;MACAG,KAAA;QACAH,SAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAG,OAAA;UACAH,OAAA;QAAA;MAEA;IACA;EACA;EACAI,OAAA;IACAC,UAAA;MACA,KAAAT,OAAA,CAAAH,GAAA;MACA,KAAAG,OAAA,CAAAD,KAAA;MACA,KAAAC,OAAA,CAAAF,SAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}