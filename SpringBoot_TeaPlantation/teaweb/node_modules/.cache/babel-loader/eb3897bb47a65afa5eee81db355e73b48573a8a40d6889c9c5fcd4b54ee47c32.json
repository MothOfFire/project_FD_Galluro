{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"teaProcessMain\",\n  data() {\n    return {\n      user: JSON.parse(sessionStorage.getItem(\"CurUser\")),\n      makekind: '',\n      underway: null,\n      editableTabsValue: '2',\n      editableTabs: [{\n        title: '白茶',\n        name: '1'\n      }, {\n        title: '乌龙茶',\n        name: '2'\n      }],\n      tabIndex: 2,\n      processList: []\n    };\n  },\n  methods: {\n    addTab(targetName) {\n      let newTabName = ++this.tabIndex + '';\n      this.editableTabs.push({\n        title: this.makekind,\n        name: newTabName\n      });\n      this.editableTabsValue = newTabName;\n    },\n    removeTab(targetName) {\n      let tabs = this.editableTabs;\n      let activeName = this.editableTabsValue;\n      if (activeName === targetName) {\n        tabs.forEach((tab, index) => {\n          if (tab.name === targetName) {\n            let nextTab = tabs[index + 1] || tabs[index - 1];\n            if (nextTab) {\n              activeName = nextTab.name;\n            }\n          }\n        });\n      }\n      this.editableTabsValue = activeName;\n      this.editableTabs = tabs.filter(tab => tab.name !== targetName);\n    },\n    resetParam() {\n      this.makekind = '';\n    },\n    getProcessList(name) {\n      this.$axios.get(this.$httpUrl + '/teaLeaf/getProcessList?makekind=' + name).then(res => res.data).then(res => {\n        if (res.code == 200) {\n          this.processList = res.data;\n          this.$message({\n            showClose: true,\n            message: '成功',\n            type: 'success'\n          });\n        } else {\n          this.$message({\n            showClose: true,\n            message: '失败',\n            type: 'error'\n          });\n        }\n      });\n    }\n  },\n  beforeMount() {}\n};","map":{"version":3,"names":["name","data","user","JSON","parse","sessionStorage","getItem","makekind","underway","editableTabsValue","editableTabs","title","tabIndex","processList","methods","addTab","targetName","newTabName","push","removeTab","tabs","activeName","forEach","tab","index","nextTab","filter","resetParam","getProcessList","$axios","get","$httpUrl","then","res","code","$message","showClose","message","type","beforeMount"],"sources":["src/components/teaLeaf/teaProcessMain.vue"],"sourcesContent":["<template>\r\n  <div class=\"body\">\r\n    <div class=\"heard\" style=\"margin-bottom: 20px;\">\r\n      <el-input v-model=\"makekind\"\r\n                placeholder=\"请输入茶叶种类\"\r\n                style=\"width: 200px\"></el-input>\r\n      <el-button\r\n          type=\"primary\"\r\n          @click=\"addTab(editableTabsValue)\"\r\n          style=\"margin-left: 5px;\">添加</el-button>\r\n      <el-button type=\"success\"\r\n                 @click=\"resetParam\">重置</el-button>\r\n    </div>\r\n    <div>\r\n      <el-tabs v-model=\"editableTabsValue\"\r\n               type=\"border-card\"\r\n               closable\r\n               @tab-remove=\"removeTab\"\r\n               @tab-click=\"\">\r\n        <el-tab-pane\r\n            v-for=\"(item, index) in editableTabs\"\r\n            :key=\"item.name\"\r\n            :label=\"item.title\"\r\n            :name=\"item.name\">\r\n          <el-steps :active=\"underway\"\r\n                    align-center\r\n                    v-for=\"i in this.processList\" :key=\"i.oedernumber\">\r\n            <el-step title=\"i.workname\"></el-step>\r\n          </el-steps>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"teaProcessMain\",\r\n  data() {\r\n    return {\r\n      user : JSON.parse(sessionStorage.getItem(\"CurUser\")),\r\n      makekind: '',\r\n      underway: null,\r\n      editableTabsValue: '2',\r\n      editableTabs: [\r\n          {\r\n        title: '白茶',\r\n        name: '1',\r\n      }, {\r\n        title: '乌龙茶',\r\n        name: '2',\r\n      }],\r\n      tabIndex: 2,\r\n      processList:[]\r\n    }\r\n  },\r\n  methods: {\r\n    addTab(targetName) {\r\n      let newTabName = ++this.tabIndex + '';\r\n      this.editableTabs.push({\r\n        title: this.makekind,\r\n        name: newTabName,\r\n      });\r\n      this.editableTabsValue = newTabName;\r\n    },\r\n    removeTab(targetName) {\r\n      let tabs = this.editableTabs;\r\n      let activeName = this.editableTabsValue;\r\n      if (activeName === targetName) {\r\n        tabs.forEach((tab, index) => {\r\n          if (tab.name === targetName) {\r\n            let nextTab = tabs[index + 1] || tabs[index - 1];\r\n            if (nextTab) {\r\n              activeName = nextTab.name;\r\n            }\r\n          }\r\n        });\r\n      }\r\n      this.editableTabsValue = activeName;\r\n      this.editableTabs = tabs.filter(tab => tab.name !== targetName);\r\n    },\r\n    resetParam() {\r\n      this.makekind = '';\r\n    },\r\n    getProcessList(name) {\r\n      this.$axios.get(this.$httpUrl+'/teaLeaf/getProcessList?makekind='+name)\r\n          .then(res => res.data).then(res => {\r\n        if (res.code == 200) {\r\n          this.processList = res.data;\r\n          this.$message({\r\n            showClose: true,\r\n            message: '成功',\r\n            type: 'success'\r\n          });\r\n        } else {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '失败',\r\n            type: 'error'\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  beforeMount() {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";AAoCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,cAAA,CAAAC,OAAA;MACAC,QAAA;MACAC,QAAA;MACAC,iBAAA;MACAC,YAAA,GACA;QACAC,KAAA;QACAX,IAAA;MACA;QACAW,KAAA;QACAX,IAAA;MACA;MACAY,QAAA;MACAC,WAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAAC,UAAA;MACA,IAAAC,UAAA,UAAAL,QAAA;MACA,KAAAF,YAAA,CAAAQ,IAAA;QACAP,KAAA,OAAAJ,QAAA;QACAP,IAAA,EAAAiB;MACA;MACA,KAAAR,iBAAA,GAAAQ,UAAA;IACA;IACAE,UAAAH,UAAA;MACA,IAAAI,IAAA,QAAAV,YAAA;MACA,IAAAW,UAAA,QAAAZ,iBAAA;MACA,IAAAY,UAAA,KAAAL,UAAA;QACAI,IAAA,CAAAE,OAAA,EAAAC,GAAA,EAAAC,KAAA;UACA,IAAAD,GAAA,CAAAvB,IAAA,KAAAgB,UAAA;YACA,IAAAS,OAAA,GAAAL,IAAA,CAAAI,KAAA,SAAAJ,IAAA,CAAAI,KAAA;YACA,IAAAC,OAAA;cACAJ,UAAA,GAAAI,OAAA,CAAAzB,IAAA;YACA;UACA;QACA;MACA;MACA,KAAAS,iBAAA,GAAAY,UAAA;MACA,KAAAX,YAAA,GAAAU,IAAA,CAAAM,MAAA,CAAAH,GAAA,IAAAA,GAAA,CAAAvB,IAAA,KAAAgB,UAAA;IACA;IACAW,WAAA;MACA,KAAApB,QAAA;IACA;IACAqB,eAAA5B,IAAA;MACA,KAAA6B,MAAA,CAAAC,GAAA,MAAAC,QAAA,yCAAA/B,IAAA,EACAgC,IAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAhC,IAAA,EAAA+B,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAArB,WAAA,GAAAoB,GAAA,CAAAhC,IAAA;UACA,KAAAkC,QAAA;YACAC,SAAA;YACAC,OAAA;YACAC,IAAA;UACA;QACA;UACA,KAAAH,QAAA;YACAC,SAAA;YACAC,OAAA;YACAC,IAAA;UACA;QACA;MACA;IACA;EACA;EACAC,YAAA,GAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}